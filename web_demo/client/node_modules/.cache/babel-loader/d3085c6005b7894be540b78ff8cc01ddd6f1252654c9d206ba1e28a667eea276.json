{"ast":null,"code":"// Parse link destination\n//\n\nimport { unescapeAll } from '../common/utils.mjs';\nexport default function parseLinkDestination(str, start, max) {\n  let code;\n  let pos = start;\n  const result = {\n    ok: false,\n    pos: 0,\n    str: ''\n  };\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) {\n        return result;\n      }\n      if (code === 0x3C /* < */) {\n        return result;\n      }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  let level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === 0x20) {\n      break;\n    }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) {\n      break;\n    }\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) {\n        break;\n      }\n      pos += 2;\n      continue;\n    }\n    if (code === 0x28 /* ( */) {\n      level++;\n      if (level > 32) {\n        return result;\n      }\n    }\n    if (code === 0x29 /* ) */) {\n      if (level === 0) {\n        break;\n      }\n      level--;\n    }\n    pos++;\n  }\n  if (start === pos) {\n    return result;\n  }\n  if (level !== 0) {\n    return result;\n  }\n  result.str = unescapeAll(str.slice(start, pos));\n  result.pos = pos;\n  result.ok = true;\n  return result;\n}","map":{"version":3,"names":["unescapeAll","parseLinkDestination","str","start","max","code","pos","result","ok","charCodeAt","slice","level"],"sources":["E:/GLM-UML/web_demo/client/node_modules/markdown-it/lib/helpers/parse_link_destination.mjs"],"sourcesContent":["// Parse link destination\n//\n\nimport { unescapeAll } from '../common/utils.mjs'\n\nexport default function parseLinkDestination (str, start, max) {\n  let code\n  let pos = start\n\n  const result = {\n    ok: false,\n    pos: 0,\n    str: ''\n  }\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++\n    while (pos < max) {\n      code = str.charCodeAt(pos)\n      if (code === 0x0A /* \\n */) { return result }\n      if (code === 0x3C /* < */) { return result }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1\n        result.str = unescapeAll(str.slice(start + 1, pos))\n        result.ok = true\n        return result\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2\n        continue\n      }\n\n      pos++\n    }\n\n    // no closing '>'\n    return result\n  }\n\n  // this should be ... } else { ... branch\n\n  let level = 0\n  while (pos < max) {\n    code = str.charCodeAt(pos)\n\n    if (code === 0x20) { break }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      if (str.charCodeAt(pos + 1) === 0x20) { break }\n      pos += 2\n      continue\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++\n      if (level > 32) { return result }\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break }\n      level--\n    }\n\n    pos++\n  }\n\n  if (start === pos) { return result }\n  if (level !== 0) { return result }\n\n  result.str = unescapeAll(str.slice(start, pos))\n  result.pos = pos\n  result.ok = true\n  return result\n}\n"],"mappings":"AAAA;AACA;;AAEA,SAASA,WAAW,QAAQ,qBAAqB;AAEjD,eAAe,SAASC,oBAAoBA,CAAEC,GAAG,EAAEC,KAAK,EAAEC,GAAG,EAAE;EAC7D,IAAIC,IAAI;EACR,IAAIC,GAAG,GAAGH,KAAK;EAEf,MAAMI,MAAM,GAAG;IACbC,EAAE,EAAE,KAAK;IACTF,GAAG,EAAE,CAAC;IACNJ,GAAG,EAAE;EACP,CAAC;EAED,IAAIA,GAAG,CAACO,UAAU,CAACH,GAAG,CAAC,KAAK,IAAI,CAAC,SAAS;IACxCA,GAAG,EAAE;IACL,OAAOA,GAAG,GAAGF,GAAG,EAAE;MAChBC,IAAI,GAAGH,GAAG,CAACO,UAAU,CAACH,GAAG,CAAC;MAC1B,IAAID,IAAI,KAAK,IAAI,CAAC,UAAU;QAAE,OAAOE,MAAM;MAAC;MAC5C,IAAIF,IAAI,KAAK,IAAI,CAAC,SAAS;QAAE,OAAOE,MAAM;MAAC;MAC3C,IAAIF,IAAI,KAAK,IAAI,CAAC,SAAS;QACzBE,MAAM,CAACD,GAAG,GAAGA,GAAG,GAAG,CAAC;QACpBC,MAAM,CAACL,GAAG,GAAGF,WAAW,CAACE,GAAG,CAACQ,KAAK,CAACP,KAAK,GAAG,CAAC,EAAEG,GAAG,CAAC,CAAC;QACnDC,MAAM,CAACC,EAAE,GAAG,IAAI;QAChB,OAAOD,MAAM;MACf;MACA,IAAIF,IAAI,KAAK,IAAI,CAAC,WAAWC,GAAG,GAAG,CAAC,GAAGF,GAAG,EAAE;QAC1CE,GAAG,IAAI,CAAC;QACR;MACF;MAEAA,GAAG,EAAE;IACP;;IAEA;IACA,OAAOC,MAAM;EACf;;EAEA;;EAEA,IAAII,KAAK,GAAG,CAAC;EACb,OAAOL,GAAG,GAAGF,GAAG,EAAE;IAChBC,IAAI,GAAGH,GAAG,CAACO,UAAU,CAACH,GAAG,CAAC;IAE1B,IAAID,IAAI,KAAK,IAAI,EAAE;MAAE;IAAM;;IAE3B;IACA,IAAIA,IAAI,GAAG,IAAI,IAAIA,IAAI,KAAK,IAAI,EAAE;MAAE;IAAM;IAE1C,IAAIA,IAAI,KAAK,IAAI,CAAC,WAAWC,GAAG,GAAG,CAAC,GAAGF,GAAG,EAAE;MAC1C,IAAIF,GAAG,CAACO,UAAU,CAACH,GAAG,GAAG,CAAC,CAAC,KAAK,IAAI,EAAE;QAAE;MAAM;MAC9CA,GAAG,IAAI,CAAC;MACR;IACF;IAEA,IAAID,IAAI,KAAK,IAAI,CAAC,SAAS;MACzBM,KAAK,EAAE;MACP,IAAIA,KAAK,GAAG,EAAE,EAAE;QAAE,OAAOJ,MAAM;MAAC;IAClC;IAEA,IAAIF,IAAI,KAAK,IAAI,CAAC,SAAS;MACzB,IAAIM,KAAK,KAAK,CAAC,EAAE;QAAE;MAAM;MACzBA,KAAK,EAAE;IACT;IAEAL,GAAG,EAAE;EACP;EAEA,IAAIH,KAAK,KAAKG,GAAG,EAAE;IAAE,OAAOC,MAAM;EAAC;EACnC,IAAII,KAAK,KAAK,CAAC,EAAE;IAAE,OAAOJ,MAAM;EAAC;EAEjCA,MAAM,CAACL,GAAG,GAAGF,WAAW,CAACE,GAAG,CAACQ,KAAK,CAACP,KAAK,EAAEG,GAAG,CAAC,CAAC;EAC/CC,MAAM,CAACD,GAAG,GAAGA,GAAG;EAChBC,MAAM,CAACC,EAAE,GAAG,IAAI;EAChB,OAAOD,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}